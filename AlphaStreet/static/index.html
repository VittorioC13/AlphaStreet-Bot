
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AlphaStreet Bot - Market Intelligence Collection</title>
    <meta name="description" content="Curated collection of market intelligence across TMT, Energy, Healthcare, Consumer, and Industrial sectors.">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'anthropic-terracotta': '#187ABA',
                        'anthropic-kraft': '#4695C8',
                        'anthropic-manila': '#A3CAE3',
                        'anthropic-ivory': '#F3F6FA',
                        'anthropic-slate': '#0C2740',
                        'anthropic-cloud-dark': '#4B6483',
                        'anthropic-cloud-medium': '#8095AD',
                        'anthropic-cloud-light': '#99B5D4',
                        'anthropic-ivory-dark': '#E6EEF6',
                        'accent-teal': '#3BA4D5',
                        'accent-cyan': '#5FC6E4',
                        'accent-lavender': '#6E80D8',
                        'accent-periwinkle': '#8A9EEE',
                        'button-primary': '#1D7EB6',
                        'button-hover': '#155F89',
                        'icon-teal': '#4FB5D9',
                        'icon-lavender': '#8AA4E8',
                        'premium-brass': '#C4A46A'
                    },
                    fontFamily: {
                        'styrene': ['Inter', 'system-ui', 'sans-serif']
                    },
                    borderRadius: {
                        'anthropic': '24px'
                    },
                    boxShadow: {
                        'anthropic': '0 8px 32px rgba(16, 16, 16, 0.08)',
                        'anthropic-hover': '0 16px 48px rgba(16, 16, 16, 0.12)'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    
    /* Anthropic Design System */
    * {
        font-feature-settings: "kern" 1, "liga" 1;
    }
    
    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: #F5F7FA;
        color: #002B51;
        line-height: 1.6;
        letter-spacing: -0.01em;
        position: relative;
    }
    
    /* Anthropic-inspired calligraphic background */
    body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg width='1200' height='800' viewBox='0 0 1200 800' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23A3CAE3' stroke-width='1' opacity='0.05'%3E%3Cpath d='M100 200 Q200 100 300 200 T500 200' /%3E%3Cpath d='M700 150 Q800 50 900 150 T1100 150' /%3E%3Cpath d='M150 600 Q250 500 350 600 T550 600' /%3E%3Cpath d='M750 550 Q850 450 950 550 T1150 550' /%3E%3Cpath d='M300 350 Q400 250 500 350 Q600 450 700 350' stroke-width='0.8'/%3E%3C/g%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        z-index: -1;
        pointer-events: none;
    }
    
    .album-card:hover {
        transform: translateY(-12px) scale(1.02) rotateX(5deg);
    }
    
    .album-card:hover::before {
        transform: translateY(2px) scale(0.98);
    }
    
    .album-card:hover::after {
        transform: translateY(1px) scale(0.99);
    }
    
    .album-card.active {
        transform: scale(1.05) rotateX(2deg);
    }
    
    /* Report Preview Styles */
    
    
    .report-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 15px 40px rgba(16, 16, 16, 0.25);
        padding: 16px;
        height: 100%;
        overflow: hidden;
        border: 1px solid #E4E4DF;
        position: relative;
    }
    
    .report-header {
        text-align: center;
        margin-bottom: 32px;
        padding-bottom: 20px;
        border-bottom: 2px solid #F0F0F0;
    }
    
    .report-title {
        font-size: 14px;
        font-weight: 700;
        color: #101010;
        margin: 0 0 4px 0;
        line-height: 1.2;
    }
    
    .report-subtitle {
        font-size: 16px;
        font-style: italic;
        color: #666663;
        margin: 0 0 16px 0;
    }
    
    .report-meta {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: #99918D;
    }
    
    .report-section {
        margin-bottom: 24px;
    }
    
    .section-title {
        font-size: 18px;
        font-weight: 700;
        color: #101010;
        margin: 0 0 12px 0;
        background: #F5F5F5;
        padding: 12px 16px;
        border-radius: 8px;
    }
    
    .section-divider {
        border: none;
        border-top: 2px solid #101010;
        margin: 12px 0 20px 0;
    }
    
    .deal-highlight {
        background: #E4E4DF;
        padding: 12px 16px;
        border-radius: 8px;
        margin-bottom: 16px;
    }
    
    .deal-title {
        font-size: 16px;
        font-weight: 600;
        color: #101010;
        margin: 0;
    }
    
    .deal-link {
        margin-bottom: 12px;
    }
    
    .deal-link a {
        color: #2563eb;
        text-decoration: underline;
        font-weight: 500;
    }
    
    .deal-points {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    
    .deal-points li {
        margin-bottom: 8px;
        padding-left: 16px;
        position: relative;
    }
    
    .deal-points li::before {
        content: '-';
        position: absolute;
        left: 0;
        color: #666663;
    }
    
    .close-preview {
        position: absolute;
        top: 8px;
        right: 8px;
        background: rgba(245, 245, 245, 0.9);
        border: none;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #666663;
        transition: all 0.2s ease;
        z-index: 10;
    }
    
    .close-preview:hover {
        background: rgba(229, 229, 229, 0.95);
        color: #101010;
        transform: scale(1.1);
    }
    
    .report-subtitle {
        font-size: 11px;
        font-style: italic;
        color: #666663;
        margin: 0 0 8px 0;
    }
    
    .report-meta {
        display: flex;
        justify-content: space-between;
        font-size: 9px;
        color: #99918D;
        margin-bottom: 12px;
    }
    
    .section-title {
        font-size: 12px;
        font-weight: 700;
        color: #101010;
        margin: 0 0 6px 0;
        background: #F5F5F5;
        padding: 6px 8px;
        border-radius: 4px;
    }
    
    .card-deck-content {
        position: relative;
        z-index: 1;
        box-shadow: 0 12px 40px rgba(16, 16, 16, 0.12);
        border-radius: 16px;
        border: 2px solid white;
    }
        
        .coverflow-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 1.5rem;
            overflow-x: auto;
            padding: 4rem 1rem;
            scroll-behavior: smooth;
            perspective: 1200px;
            scroll-snap-type: x mandatory;
            min-width: 100%;
            width: 100%;
        }
        
        /* Ensure cards are always visible on small screens */
        @media (max-width: 768px) {
            .coverflow-container {
                padding: 2rem 0.5rem;
                gap: 1rem;
            }
            
            .album-card {
                width: 280px;
                height: 340px;
            }
        }
        
        @media (max-width: 480px) {
            .coverflow-container {
                padding: 1rem 0.25rem;
                gap: 0.75rem;
            }
            
            .album-card {
                width: 240px;
                height: 300px;
            }
        }
        
        .album-card {
            flex-shrink: 0;
            width: 320px;
            height: 380px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.2, 0, 0.2, 1);
            transform-style: preserve-3d;
            position: relative;
            scroll-snap-align: center;
        }
        
        /* Card deck layered effect */
        .album-card::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 4px;
            right: -4px;
            bottom: 8px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            box-shadow: 0 4px 16px rgba(16, 16, 16, 0.1);
            z-index: -2;
        }
        
        .album-card::after {
            content: '';
            position: absolute;
            top: -4px;
            left: 2px;
            right: -2px;
            bottom: 4px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 16px;
            box-shadow: 0 6px 24px rgba(16, 16, 16, 0.08);
            z-index: -1;
        }
        
        /* Hide scrollbar but keep functionality */
        .coverflow-container::-webkit-scrollbar {
            display: none;
        }
        .coverflow-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .fade-in {
            animation: fadeIn 1.2s ease-out forwards;
            opacity: 0;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Sticky Header Styles */
        .header-scrolled {
            background: rgba(250, 250, 247, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(228, 228, 223, 0.3);
            padding: 1rem 2rem !important;
        }
        
        .header-scrolled #headerText {
            font-size: 1.5rem !important;
        }
        
        /* Animation for text transformation */
        .text-transform {
            transform: scale(0.8);
        }
        
        /* Hide scrollbar but keep functionality */
        .coverflow-container::-webkit-scrollbar {
            display: none;
        }
        .coverflow-container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* PDF Preview Overlay Styles */
        #pdfPreviewOverlay {
            transition: opacity 0.3s ease-in-out;
        }

        #pdfPreviewOverlay .backdrop-blur-md {
            transition: backdrop-filter 0.3s ease-in-out;
        }
    </style>
</head>
<body style="background: linear-gradient(135deg, #002B51 0%, #335574 30%, #4695C8 60%, #3d6a94 80%, #002B51 100%); min-height: 100vh;" class="font-styrene antialiased overflow-x-hidden">
    
    <!-- Sticky Header -->
    <header class="fixed top-0 left-0 right-0 z-50 p-8 transition-all duration-500 ease-out" id="stickyHeader">
        <div class="flex justify-between items-center">
            <!-- Logo -->
            <div class="text-3xl font-bold tracking-tight text-white uppercase transition-all duration-700 ease-out" id="headerText" style="position: relative;">
                <span id="fullText" class="transition-all duration-700 ease-out">ALPHASTREET BOT</span>
                <span id="shortText" class="absolute top-0 left-0 opacity-0 transition-all duration-700 ease-out text-4xl">T<sup class="text-lg relative -top-2">3</sup></span>
            </div>
            
            <!-- Auth Buttons -->
            <div class="flex items-center space-x-3">
                <!-- Unlock Label -->
                <span class="text-sm font-light text-white/70 tracking-wide mr-1">Unlock</span>
                
                <!-- Log In Button -->
                <button onclick="login()" class="px-5 py-2.5 rounded-xl border-2 border-white text-white hover:bg-white hover:text-anthropic-slate transition-all duration-300 font-light" data-testid="button-login">
                    Log In
                </button>
                
                <!-- Sign Up Button -->
                <button onclick="login()" class="px-5 py-2.5 rounded-xl bg-white text-anthropic-slate hover:bg-white/90 transition-all duration-300 font-light" data-testid="button-signup">
                    Sign Up
                </button>
            </div>
        </div>
    </header>

    <!-- Main Cover Flow Collection -->
    <main id="heroMain" class="h-screen flex flex-col items-center justify-center pt-24 transition-all duration-700" style="background: transparent;">
        
        <!-- Minimalist Time Horizon Control -->
        <div class="mb-16 fade-in relative z-50">
            <!-- Time Horizon Strip -->
            <div class="flex items-center justify-center gap-16 relative">
                <!-- Daily Label -->
                <button 
                    id="dailyModeBtn"
                    class="group flex flex-col items-center cursor-pointer transition-all duration-300"
                    onclick="switchViewMode('daily')"
                    data-testid="toggle-daily-mode"
                >
                    <span class="text-2xl font-light tracking-wide text-white transition-all duration-300">Daily</span>
                    <span class="text-xs text-white/40 mt-1 transition-all duration-300 group-hover:text-white/60">Draw cards</span>
                </button>
                
                <!-- Animated Line with Dot -->
                <div class="relative w-32 h-px bg-white/20">
                    <div id="timeHorizonDot" class="absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full transition-all duration-500 ease-out" style="left: 0; background: linear-gradient(135deg, #36A3D9 0%, #1D7EB6 100%); box-shadow: 0 0 20px rgba(54, 163, 217, 0.6);"></div>
                </div>
                
                <!-- Weekly Label -->
                <button 
                    id="weeklyModeBtn"
                    class="group flex flex-col items-center cursor-pointer transition-all duration-300 opacity-50"
                    onclick="switchViewMode('weekly')"
                    data-testid="toggle-weekly-mode"
                >
                    <span class="text-2xl font-light tracking-wide text-white transition-all duration-300">Weekly</span>
                    <span class="text-xs text-white/40 mt-1 transition-all duration-300 group-hover:text-white/60">Read briefs</span>
                </button>
            </div>
        </div>
        
        <!-- DAILY MODE: Category Navigation -->
        <div id="dailyModeContent" class="text-center fade-in transition-all duration-500">
            <!-- Minimal Text Navigation -->
            <div class="flex items-center justify-center gap-8 mb-6">
                <button 
                    id="marketSenseBtn" 
                    class="text-xl font-light tracking-wide text-white transition-all duration-300 border-b-2 border-white/80 pb-1"
                    onclick="switchDeckType('marketSense')"
                    data-testid="toggle-market-sense"
                >
                    Market Sense
                </button>
                <span class="text-white/20">·</span>
                <button 
                    id="technicalsBtn" 
                    class="text-xl font-light tracking-wide text-white/40 hover:text-white/70 transition-all duration-300 border-b-2 border-transparent pb-1"
                    onclick="switchDeckType('technicals')"
                    data-testid="toggle-technicals"
                >
                    Technicals
                </button>
            </div>
            
            <!-- Subtle Tier Selector (slides down when Market Sense active) -->
            <div id="marketTierToggle" class="flex items-center justify-center gap-6 mb-6 transition-all duration-300">
                <button 
                    id="primaryMarketBtn" 
                    class="text-sm font-light tracking-wider uppercase text-white/80 transition-all duration-300 border-b border-white/40"
                    onclick="switchMarketTier('primary')"
                    data-testid="toggle-primary-market"
                >
                    Primary
                </button>
                <button 
                    id="secondaryMarketBtn" 
                    class="text-sm font-light tracking-wider uppercase text-white/30 hover:text-white/50 transition-all duration-300"
                    onclick="switchMarketTier('secondary')"
                    data-testid="toggle-secondary-market"
                >
                    Secondary
                </button>
            </div>
        </div>
        
        <!-- WEEKLY MODE: Subtitle (hidden by default) -->
        <div id="weeklyModeContent" class="text-center fade-in transition-all duration-500" style="display: none;">
            <p class="text-lg text-white/50 font-light tracking-wide mb-8">Your consolidated intelligence</p>
        </div>

        <!-- Weekly Brief Cards (hidden by default) - Minimalist Design -->
        <div id="weeklyModeCards" class="w-full max-w-5xl mx-auto px-8 hidden">
            <div class="flex justify-center items-stretch gap-12">
                <!-- Primary Market Brief -->
                <div class="weekly-brief-card cursor-pointer group" onclick="openWeeklyBrief('primary')" data-testid="weekly-primary-market">
                    <div class="relative w-72 p-10 rounded-3xl transition-all duration-500 hover:translate-y-[-8px]" style="background: rgba(255,255,255,0.06); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1);">
                        <!-- Minimal Icon -->
                        <div class="mb-8 flex justify-center">
                            <svg width="64" height="64" viewBox="0 0 64 64" class="text-white/60 group-hover:text-white/90 transition-all duration-300">
                                <circle cx="32" cy="28" r="16" fill="none" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M32 18 L32 28 L40 28" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                <line x1="16" y1="52" x2="48" y2="52" stroke="currentColor" stroke-width="1.5" opacity="0.4"/>
                                <line x1="20" y1="56" x2="44" y2="56" stroke="currentColor" stroke-width="1" opacity="0.2"/>
                            </svg>
                        </div>
                        <!-- Text -->
                        <div class="text-center">
                            <h3 class="text-xl font-light text-white mb-2">Primary Market</h3>
                            <p class="text-sm text-white/40 font-light">Deal flow summary</p>
                        </div>
                        <!-- Subtle Arrow -->
                        <div class="mt-8 flex justify-center opacity-0 group-hover:opacity-100 transition-all duration-300">
                            <span class="text-white/40 text-sm">Open →</span>
                        </div>
                    </div>
                </div>
                
                <!-- Secondary Market Brief -->
                <div class="weekly-brief-card cursor-pointer group" onclick="openWeeklyBrief('secondary')" data-testid="weekly-secondary-market">
                    <div class="relative w-72 p-10 rounded-3xl transition-all duration-500 hover:translate-y-[-8px]" style="background: rgba(255,255,255,0.06); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1);">
                        <!-- Minimal Icon -->
                        <div class="mb-8 flex justify-center">
                            <svg width="64" height="64" viewBox="0 0 64 64" class="text-white/60 group-hover:text-white/90 transition-all duration-300">
                                <path d="M12 48 L22 32 L32 38 L44 20 L52 28" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="22" cy="32" r="2.5" fill="currentColor"/>
                                <circle cx="32" cy="38" r="2.5" fill="currentColor"/>
                                <circle cx="44" cy="20" r="2.5" fill="currentColor"/>
                            </svg>
                        </div>
                        <!-- Text -->
                        <div class="text-center">
                            <h3 class="text-xl font-light text-white mb-2">Secondary Market</h3>
                            <p class="text-sm text-white/40 font-light">Trading highlights</p>
                        </div>
                        <!-- Subtle Arrow -->
                        <div class="mt-8 flex justify-center opacity-0 group-hover:opacity-100 transition-all duration-300">
                            <span class="text-white/40 text-sm">Open →</span>
                        </div>
                    </div>
                </div>
                
                <!-- Technicals Progress Brief -->
                <div class="weekly-brief-card cursor-pointer group" onclick="openWeeklyBrief('technicals')" data-testid="weekly-technicals-progress">
                    <div class="relative w-72 p-10 rounded-3xl transition-all duration-500 hover:translate-y-[-8px]" style="background: rgba(255,255,255,0.06); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.1);">
                        <!-- Minimal Icon -->
                        <div class="mb-8 flex justify-center">
                            <svg width="64" height="64" viewBox="0 0 64 64" class="text-white/60 group-hover:text-white/90 transition-all duration-300">
                                <circle cx="32" cy="32" r="20" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
                                <path d="M32 12 A20 20 0 1 1 12 32" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                                <text x="32" y="36" text-anchor="middle" font-size="12" font-weight="300" fill="currentColor">75%</text>
                            </svg>
                        </div>
                        <!-- Text -->
                        <div class="text-center">
                            <h3 class="text-xl font-light text-white mb-2">Technicals</h3>
                            <p class="text-sm text-white/40 font-light">Learning progress</p>
                        </div>
                        <!-- Subtle Arrow -->
                        <div class="mt-8 flex justify-center opacity-0 group-hover:opacity-100 transition-all duration-300">
                            <span class="text-white/40 text-sm">Open →</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cover Flow Albums with Navigation (Daily Mode) -->
        <div id="dailyModeCoverflow" class="relative w-full">
            <!-- Left Arrow -->
            <button 
                id="leftBtn" 
                class="absolute left-8 top-1/2 transform -translate-y-1/2 z-30 w-16 h-16 bg-white shadow-anthropic rounded-full hover:shadow-anthropic-hover transition-all duration-300 flex items-center justify-center group"
                onclick="navigateLeft()"
            >
                <svg width="24" height="24" viewBox="0 0 24 24" class="text-gray-700 group-hover:text-black">
                    <path d="M15 18 L9 12 L15 6" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>

            <!-- Cover Flow Container -->
            <div class="coverflow-container" id="coverflow">
            
            <!-- Healthcare Deck - Rich Emerald -->
            <div class="album-card market-sense-deck cursor-pointer" onclick="navigateToReports('Healthcare')" data-testid="album-healthcare">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #0F766E 0%, #14B8A6 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #0F766E;">
                            <!-- Rod of Asclepius (snake & staff) -->
                            <g stroke="currentColor" fill="none">
                                <!-- Staff -->
                                <line x1="60" y1="20" x2="60" y2="100" stroke-width="4" stroke-linecap="round"/>
                                
                                <!-- Snake wrapping around both sides of staff -->
                                <path d="M55 30 Q50 35 60 40 Q70 45 55 50 Q50 55 60 60 Q70 65 55 70 Q50 75 60 80 Q70 85 60 90" 
                                      stroke-width="3" fill="none" stroke-linecap="round"/>
                                
                                <!-- Snake body details -->
                                <path d="M65 35 Q75 40 60 45" stroke-width="2" opacity="0.7"/>
                                <path d="M65 55 Q75 60 60 65" stroke-width="2" opacity="0.7"/>
                                
                                <!-- Snake head -->
                                <ellipse cx="55" cy="30" rx="3" ry="2" fill="currentColor"/>
                                <circle cx="53" cy="29" r="0.5" fill="white"/>
                                <path d="M52 31 L50 32" stroke-width="1" stroke-linecap="round"/>
                                
                                <!-- Staff top ornament -->
                                <circle cx="60" cy="20" r="5" fill="none" stroke-width="2"/>
                                <circle cx="60" cy="20" r="2" fill="currentColor"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">HEALTHCARE DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Pharma, Biotech & Devices Reports</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from life sciences</div>
                    </div>
                </div>
            </div>

            <!-- Energy Deck - Amber/Brass -->
            <div class="album-card market-sense-deck cursor-pointer" onclick="navigateToReports('Energy')" data-testid="album-energy">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #A66B2E 0%, #C48643 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #A66B2E;">
                            <!-- Simple energy/lightning illustration -->
                            <path d="M70 20 L50 60 L65 60 L50 100 L70 60 L55 60 Z" fill="currentColor"/>
                            <circle cx="60" cy="60" r="45" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">ENERGY DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Oil, Gas & Renewables Reports</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from power markets</div>
                    </div>
                </div>
            </div>

            <!-- TMT Deck - Deep Teal -->
            <div class="album-card market-sense-deck active cursor-pointer" onclick="navigateToReports('TMT')" data-testid="album-tmt">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <!-- Color accent bar -->
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #1F6F7A 0%, #2E8B97 100%);"></div>
                    <!-- Simple illustration -->
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #1F6F7A;">
                            <!-- Elegant bamboo illustration -->
                            <g stroke="currentColor" stroke-width="2" fill="none">
                                <!-- Bamboo stalks -->
                                <line x1="45" y1="20" x2="45" y2="100" stroke-linecap="round"/>
                                <line x1="60" y1="15" x2="60" y2="105" stroke-linecap="round"/>
                                <line x1="75" y1="25" x2="75" y2="95" stroke-linecap="round"/>
                                
                                <!-- Bamboo nodes -->
                                <line x1="42" y1="35" x2="48" y2="35" stroke-width="3"/>
                                <line x1="42" y1="55" x2="48" y2="55" stroke-width="3"/>
                                <line x1="42" y1="75" x2="48" y2="75" stroke-width="3"/>
                                
                                <line x1="57" y1="30" x2="63" y2="30" stroke-width="3"/>
                                <line x1="57" y1="50" x2="63" y2="50" stroke-width="3"/>
                                <line x1="57" y1="70" x2="63" y2="70" stroke-width="3"/>
                                <line x1="57" y1="90" x2="63" y2="90" stroke-width="3"/>
                                
                                <line x1="72" y1="40" x2="78" y2="40" stroke-width="3"/>
                                <line x1="72" y1="60" x2="78" y2="60" stroke-width="3"/>
                                <line x1="72" y1="80" x2="78" y2="80" stroke-width="3"/>
                                
                                <!-- Clean bamboo - no leaves -->
                            </g>
                        </svg>
                    </div>
                    <!-- Title -->
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">TMT DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Technology, Media & Telecom Reports</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from innovation trends</div>
                    </div>
                </div>
            </div>

            <!-- Consumer Deck - Dusty Plum -->
            <div class="album-card market-sense-deck cursor-pointer" onclick="navigateToReports('Consumer')" data-testid="album-consumer">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #7A5D86 0%, #926AA0 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #7A5D86;">
                            <!-- Beautiful diamond/crystal -->
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Diamond top (crown) -->
                                <path d="M45 45 L60 25 L75 45" fill="currentColor" opacity="0.1"/>
                                <path d="M45 45 L60 25 L75 45"/>
                                
                                <!-- Diamond middle (girdle) -->
                                <line x1="45" y1="45" x2="75" y2="45" stroke-width="3"/>
                                
                                <!-- Diamond bottom (pavilion) -->
                                <path d="M45 45 L60 85 L75 45" fill="currentColor" opacity="0.05"/>
                                <path d="M45 45 L60 85 L75 45"/>
                                
                                <!-- Crown facets -->
                                <path d="M52 35 L68 35"/>
                                <path d="M60 25 L60 45"/>
                                <path d="M50 40 L70 40"/>
                                
                                <!-- Pavilion facets -->
                                <path d="M60 45 L60 85"/>
                                <path d="M50 55 L70 55"/>
                                
                                <!-- Brilliant sparkle -->
                                <circle cx="60" cy="35" r="1.5" fill="currentColor" opacity="0.9"/>
                                <path d="M57 32 L63 32" stroke-width="1" opacity="0.7"/>
                                <path d="M60 29 L60 35" stroke-width="1" opacity="0.7"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">CONSUMER DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Retail, Brands & Lifestyle Reports</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from market trends</div>
                    </div>
                </div>
            </div>

            <!-- Industrial Deck - Burnt Orange -->
            <div class="album-card market-sense-deck cursor-pointer" onclick="navigateToReports('Industrial')" data-testid="album-industrial">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #C2410C 0%, #EA580C 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #C2410C;">
                            <!-- Volcanic formation -->
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Volcano mountain shape -->
                                <path d="M20 90 L45 50 L60 30 L75 50 L100 90 Z" fill="currentColor" opacity="0.15"/>
                                <path d="M20 90 L45 50 L60 30 L75 50 L100 90"/>
                                
                                <!-- Crater at peak -->
                                <ellipse cx="60" cy="30" rx="8" ry="3" fill="currentColor" opacity="0.3"/>
                                
                                <!-- Lava/magma glow -->
                                <path d="M55 32 Q60 28 65 32" stroke-width="1" opacity="0.7"/>
                                <circle cx="58" cy="31" r="1" fill="currentColor" opacity="0.8"/>
                                <circle cx="62" cy="30" r="1" fill="currentColor" opacity="0.8"/>
                                
                                <!-- Rock layers/striations -->
                                <path d="M25 80 Q60 75 95 80" stroke-width="1" opacity="0.4"/>
                                <path d="M30 70 Q60 65 90 70" stroke-width="1" opacity="0.4"/>
                                
                                <!-- Heat/steam wisps -->
                                <path d="M58 25 Q55 20 58 15" stroke-width="1" opacity="0.5"/>
                                <path d="M62 25 Q65 20 62 15" stroke-width="1" opacity="0.5"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">INDUSTRIAL DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Manufacturing & Infrastructure Reports</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from heavy industry</div>
                    </div>
                </div>
            </div>

            <!-- SECONDARY MARKET DECKS -->
            
            <!-- Equities Deck - Deep Navy Blue -->
            <div class="album-card secondary-market-deck cursor-pointer" style="display: none;" onclick="navigateToReports('Equities')" data-testid="album-equities">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #25577A 0%, #3A6F96 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-70" style="color: #25577A;">
                            <g stroke="currentColor" fill="none" stroke-width="1.5">
                                <!-- Single elegant rising line -->
                                <path d="M25 75 Q50 70 60 50 T95 30" stroke-width="2" fill="none" stroke-linecap="round"/>
                                <!-- Minimal arrow tip -->
                                <path d="M88 35 L95 30 L90 27" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">EQUITIES DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Cash Equity Trading & Research</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from equity markets</div>
                    </div>
                </div>
            </div>

            <!-- Fixed Income Deck - Steel Blue -->
            <div class="album-card secondary-market-deck cursor-pointer" style="display: none;" onclick="navigateToReports('FixedIncome')" data-testid="album-fixed-income">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #3C6F99 0%, #5088B2 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-70" style="color: #3C6F99;">
                            <g stroke="currentColor" fill="none" stroke-width="1.5">
                                <!-- Gentle yield curve -->
                                <path d="M25 70 Q55 60 95 35" stroke-width="2" fill="none" stroke-linecap="round"/>
                                <!-- Three subtle rate ticks -->
                                <line x1="40" y1="65" x2="40" y2="70" stroke-width="1" opacity="0.5"/>
                                <line x1="60" y1="52" x2="60" y2="57" stroke-width="1" opacity="0.5"/>
                                <line x1="80" y1="42" x2="80" y2="47" stroke-width="1" opacity="0.5"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">FIXED INCOME DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Bonds, Credit & Rates Trading</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from debt markets</div>
                    </div>
                </div>
            </div>

            <!-- Derivatives Deck - Indigo -->
            <div class="album-card secondary-market-deck cursor-pointer" style="display: none;" onclick="navigateToReports('Derivatives')" data-testid="album-derivatives">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #4F6BC2 0%, #6882D4 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-70" style="color: #4F6BC2;">
                            <g stroke="currentColor" fill="none" stroke-width="1.5">
                                <!-- Minimal bell curve -->
                                <path d="M20 75 Q40 72 50 50 Q60 30 70 50 Q80 72 100 75" stroke-width="2" fill="none" stroke-linecap="round"/>
                                <!-- Single delta symbol -->
                                <text x="60" y="60" text-anchor="middle" font-size="16" font-weight="300" fill="currentColor" opacity="0.5">Δ</text>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">DERIVATIVES DECK</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Listed & OTC Options, Futures</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from derivatives flow</div>
                    </div>
                </div>
            </div>

            <!-- FX & Commodities Deck - Teal -->
            <div class="album-card secondary-market-deck cursor-pointer" style="display: none;" onclick="navigateToReports('FXCommodities')" data-testid="album-fx-commodities">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #386E6E 0%, #4A8888 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-70" style="color: #386E6E;">
                            <g stroke="currentColor" fill="none" stroke-width="1.5">
                                <!-- Minimal globe circle -->
                                <circle cx="50" cy="55" r="25" stroke-width="2"/>
                                <!-- Single meridian line -->
                                <ellipse cx="50" cy="55" rx="12" ry="25" stroke-width="1"/>
                                <!-- Horizontal equator -->
                                <line x1="25" y1="55" x2="75" y2="55" stroke-width="1" opacity="0.5"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">FX & COMMODITIES</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Currency & Commodity Trading</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from global markets</div>
                    </div>
                </div>
            </div>

            <!-- Post-deal Support Deck - Purple -->
            <div class="album-card secondary-market-deck cursor-pointer" style="display: none;" onclick="navigateToReports('PostDeal')" data-testid="album-post-deal">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #5A4F8C 0%, #7468A6 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-70" style="color: #5A4F8C;">
                            <g stroke="currentColor" fill="none" stroke-width="1.5">
                                <!-- Minimal handshake - two curved lines meeting -->
                                <path d="M30 55 Q45 45 60 55 Q75 65 90 55" stroke-width="2" fill="none" stroke-linecap="round"/>
                                <!-- Simple check below -->
                                <path d="M50 75 L58 83 L75 66" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.6"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">POST-DEAL SUPPORT</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Syndicate & Distribution</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from deal execution</div>
                    </div>
                </div>
            </div>

            <!-- Special Situations Deck - Mauve -->
            <div class="album-card secondary-market-deck cursor-pointer" style="display: none;" onclick="navigateToReports('SpecialSituations')" data-testid="album-special-situations">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #6D5672 0%, #88708C 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-70" style="color: #6D5672;">
                            <g stroke="currentColor" fill="none" stroke-width="1.5">
                                <!-- Two interlocking circles (chain links) -->
                                <circle cx="45" cy="55" r="18" stroke-width="2"/>
                                <circle cx="75" cy="55" r="18" stroke-width="2"/>
                                <!-- Small gap indicator -->
                                <line x1="58" y1="48" x2="62" y2="52" stroke-width="1" opacity="0.4" stroke-dasharray="2,2"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">SPECIAL SITUATIONS</div>
                        <div class="text-base text-anthropic-cloud-dark font-regular">Restructuring & Event-Driven</div>
                        <div class="text-sm text-anthropic-cloud-medium font-light mt-2">Draw insights from distressed markets</div>
                    </div>
                </div>
            </div>

            <!-- TECHNICALS DECKS -->
            
            <!-- Accounting Deck - Ocean Teal -->
            <div class="album-card technicals-deck cursor-pointer" style="display: none;" onclick="alert('Coming soon!')" data-testid="album-accounting">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #335D63 0%, #42757C 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #335D63;">
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Calculator icon -->
                                <rect x="35" y="25" width="50" height="70" rx="4" fill="currentColor" opacity="0.1"/>
                                <rect x="35" y="25" width="50" height="70" rx="4"/>
                                <rect x="40" y="35" width="40" height="12" fill="currentColor" opacity="0.3"/>
                                <!-- Buttons -->
                                <circle cx="47" cy="55" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="60" cy="55" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="73" cy="55" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="47" cy="65" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="60" cy="65" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="73" cy="65" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="47" cy="75" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="60" cy="75" r="3" fill="currentColor" opacity="0.4"/>
                                <circle cx="73" cy="75" r="3" fill="currentColor" opacity="0.4"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="mb-3">
                            <span class="text-sm font-medium text-anthropic-cloud-dark">50 Free</span>
                            <span class="text-sm font-medium text-anthropic-cloud-dark ml-4">152 Premium</span>
                        </div>
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">Accounting</div>
                        <button class="mt-4 px-6 py-2 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105" style="background: linear-gradient(135deg, #1D7EB6 0%, #36A3D9 100%);">
                            Browse Questions →
                        </button>
                    </div>
                </div>
            </div>

            <!-- Enterprise & Equity Value Deck - Olive -->
            <div class="album-card technicals-deck cursor-pointer" style="display: none;" onclick="alert('Coming soon!')" data-testid="album-eev">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #6A6E3B 0%, #828641 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #6A6E3B;">
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Building/enterprise icon -->
                                <rect x="40" y="30" width="40" height="60" fill="currentColor" opacity="0.1"/>
                                <rect x="40" y="30" width="40" height="60"/>
                                <rect x="45" y="35" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="57" y="35" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="69" y="35" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="45" y="48" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="57" y="48" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="69" y="48" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="45" y="61" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="57" y="61" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="69" y="61" width="8" height="8" fill="currentColor" opacity="0.3"/>
                                <rect x="52" y="74" width="16" height="16"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="mb-3">
                            <span class="text-sm font-medium text-anthropic-cloud-dark">42 Free</span>
                            <span class="text-sm font-medium text-anthropic-cloud-dark ml-4">117 Premium</span>
                        </div>
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">Enterprise & Equity Value</div>
                        <button class="mt-4 px-6 py-2 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105" style="background: linear-gradient(135deg, #1D7EB6 0%, #36A3D9 100%);">
                            Browse Questions →
                        </button>
                    </div>
                </div>
            </div>

            <!-- Valuation Deck - Grape -->
            <div class="album-card technicals-deck cursor-pointer" style="display: none;" onclick="alert('Coming soon!')" data-testid="album-valuation">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #5A4E72 0%, #73648C 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #5A4E72;">
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Chart/graph icon -->
                                <path d="M30 80 L45 60 L55 65 L70 45 L85 50" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="30" cy="80" r="4" fill="currentColor"/>
                                <circle cx="45" cy="60" r="4" fill="currentColor"/>
                                <circle cx="55" cy="65" r="4" fill="currentColor"/>
                                <circle cx="70" cy="45" r="4" fill="currentColor"/>
                                <circle cx="85" cy="50" r="4" fill="currentColor"/>
                                <line x1="25" y1="90" x2="90" y2="90" stroke-width="2"/>
                                <line x1="25" y1="30" x2="25" y2="90" stroke-width="2"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="mb-3">
                            <span class="text-sm font-medium text-anthropic-cloud-dark">57 Free</span>
                            <span class="text-sm font-medium text-anthropic-cloud-dark ml-4">195 Premium</span>
                        </div>
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">Valuation</div>
                        <button class="mt-4 px-6 py-2 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105" style="background: linear-gradient(135deg, #1D7EB6 0%, #36A3D9 100%);">
                            Browse Questions →
                        </button>
                    </div>
                </div>
            </div>

            <!-- DCF Deck - Terracotta -->
            <div class="album-card technicals-deck cursor-pointer" style="display: none;" onclick="alert('Coming soon!')" data-testid="album-dcf">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #8B4E4A 0%, #A25F5C 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #8B4E4A;">
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Flow chart icon -->
                                <rect x="40" y="25" width="40" height="15" rx="3" fill="currentColor" opacity="0.2"/>
                                <rect x="40" y="25" width="40" height="15" rx="3"/>
                                <line x1="60" y1="40" x2="60" y2="50" stroke-width="2" marker-end="url(#arrow)"/>
                                <rect x="40" y="50" width="40" height="15" rx="3" fill="currentColor" opacity="0.2"/>
                                <rect x="40" y="50" width="40" height="15" rx="3"/>
                                <line x1="60" y1="65" x2="60" y2="75" stroke-width="2" marker-end="url(#arrow)"/>
                                <rect x="40" y="75" width="40" height="15" rx="3" fill="currentColor" opacity="0.2"/>
                                <rect x="40" y="75" width="40" height="15" rx="3"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="mb-3">
                            <span class="text-sm font-medium text-anthropic-cloud-dark">42 Free</span>
                            <span class="text-sm font-medium text-anthropic-cloud-dark ml-4">111 Premium</span>
                        </div>
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">DCF</div>
                        <button class="mt-4 px-6 py-2 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105" style="background: linear-gradient(135deg, #1D7EB6 0%, #36A3D9 100%);">
                            Browse Questions →
                        </button>
                    </div>
                </div>
            </div>

            <!-- Merger Model Deck - Sea Green -->
            <div class="album-card technicals-deck cursor-pointer" style="display: none;" onclick="alert('Coming soon!')" data-testid="album-merger">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #3E6A6F 0%, #4E8286 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #3E6A6F;">
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Merger/combine icon -->
                                <circle cx="45" cy="50" r="15" fill="currentColor" opacity="0.1"/>
                                <circle cx="45" cy="50" r="15"/>
                                <circle cx="75" cy="50" r="15" fill="currentColor" opacity="0.1"/>
                                <circle cx="75" cy="50" r="15"/>
                                <path d="M55 50 L65 50" stroke-width="3" stroke-linecap="round"/>
                                <path d="M60 45 L65 50 L60 55" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="mb-3">
                            <span class="text-sm font-medium text-anthropic-cloud-dark">45 Free</span>
                            <span class="text-sm font-medium text-anthropic-cloud-dark ml-4">129 Premium</span>
                        </div>
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">Merger Model (M&A)</div>
                        <button class="mt-4 px-6 py-2 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105" style="background: linear-gradient(135deg, #1D7EB6 0%, #36A3D9 100%);">
                            Browse Questions →
                        </button>
                    </div>
                </div>
            </div>

            <!-- LBO Deck - Copper -->
            <div class="album-card technicals-deck cursor-pointer" style="display: none;" onclick="alert('Coming soon!')" data-testid="album-lbo">
                <div class="h-full card-deck-content p-8 flex flex-col justify-between shadow-lg" style="background: linear-gradient(145deg, #FAFBFC 0%, #F5F7F9 100%); box-shadow: 0 8px 32px rgba(0, 43, 81, 0.12); border: 1px solid rgba(0, 43, 81, 0.1);">
                    <div class="absolute top-0 left-0 right-0 h-1.5" style="background: linear-gradient(90deg, #7C5A3F 0%, #946C4E 100%);"></div>
                    <div class="flex-1 flex items-center justify-center">
                        <svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #7C5A3F;">
                            <g stroke="currentColor" fill="none" stroke-width="2">
                                <!-- Leverage/money icon -->
                                <circle cx="60" cy="60" r="25" fill="currentColor" opacity="0.1"/>
                                <circle cx="60" cy="60" r="25"/>
                                <text x="60" y="70" text-anchor="middle" font-size="28" font-weight="bold" fill="currentColor">$</text>
                                <path d="M45 35 L60 25 L75 35" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                        </svg>
                    </div>
                    <div class="text-center">
                        <div class="mb-3">
                            <span class="text-sm font-medium text-anthropic-cloud-dark">47 Free</span>
                            <span class="text-sm font-medium text-anthropic-cloud-dark ml-4">152 Premium</span>
                        </div>
                        <div class="text-3xl font-bold text-anthropic-slate mb-2">Leveraged Buyouts (LBOs)</div>
                        <button class="mt-4 px-6 py-2 text-white rounded-lg transition-all shadow-md hover:shadow-lg hover:scale-105" style="background: linear-gradient(135deg, #1D7EB6 0%, #36A3D9 100%);">
                            Browse Questions →
                        </button>
                    </div>
                </div>
            </div>
            
            
            </div>

            <!-- Right Arrow -->
            <button 
                id="rightBtn" 
                class="absolute right-8 top-1/2 transform -translate-y-1/2 z-30 w-16 h-16 bg-white shadow-anthropic rounded-full hover:shadow-anthropic-hover transition-all duration-300 flex items-center justify-center group"
                onclick="navigateRight()"
            >
                <svg width="24" height="24" viewBox="0 0 24 24" class="text-gray-700 group-hover:text-black">
                    <path d="M9 6 L15 12 L9 18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </div>


    </main>

    <!-- Office Hours Section - corner brackets with inner glow -->
    <section class="py-32 px-8" style="background: transparent;">
        <div class="max-w-2xl mx-auto relative">
            
            <!-- Subtle radial glow behind content -->
            <div class="absolute inset-0 rounded-3xl" style="background: radial-gradient(ellipse at center, rgba(255,255,255,0.08) 0%, transparent 70%);"></div>
            
            <!-- Top-left corner bracket -->
            <div class="absolute -top-6 -left-6 w-20 h-20">
                <div class="absolute top-0 left-0 w-full" style="height: 2px; background: linear-gradient(90deg, rgba(255,255,255,0.7), transparent);"></div>
                <div class="absolute top-0 left-0 h-full" style="width: 2px; background: linear-gradient(180deg, rgba(255,255,255,0.7), transparent);"></div>
            </div>
            
            <!-- Top-right corner bracket -->
            <div class="absolute -top-6 -right-6 w-20 h-20">
                <div class="absolute top-0 right-0 w-full" style="height: 2px; background: linear-gradient(270deg, rgba(255,255,255,0.7), transparent);"></div>
                <div class="absolute top-0 right-0 h-full" style="width: 2px; background: linear-gradient(180deg, rgba(255,255,255,0.7), transparent);"></div>
            </div>
            
            <!-- Bottom-left corner bracket -->
            <div class="absolute -bottom-6 -left-6 w-20 h-20">
                <div class="absolute bottom-0 left-0 w-full" style="height: 2px; background: linear-gradient(90deg, rgba(255,255,255,0.7), transparent);"></div>
                <div class="absolute bottom-0 left-0 h-full" style="width: 2px; background: linear-gradient(0deg, rgba(255,255,255,0.7), transparent);"></div>
            </div>
            
            <!-- Bottom-right corner bracket -->
            <div class="absolute -bottom-6 -right-6 w-20 h-20">
                <div class="absolute bottom-0 right-0 w-full" style="height: 2px; background: linear-gradient(270deg, rgba(255,255,255,0.7), transparent);"></div>
                <div class="absolute bottom-0 right-0 h-full" style="width: 2px; background: linear-gradient(0deg, rgba(255,255,255,0.7), transparent);"></div>
            </div>
            
            <!-- Content -->
            <div class="relative text-center py-16 px-8">
                <!-- Title -->
                <h2 class="text-3xl font-light tracking-wide text-white mb-8">Office Hours</h2>
                
                <!-- Description -->
                <p class="text-white/80 font-light text-lg leading-relaxed mb-12">
                    30-minute conversation with a Bulge Bracket VP.
                </p>
                
                <!-- CTA with more presence -->
                <a 
                    href="https://calendly.com" 
                    target="_blank"
                    class="inline-flex items-center gap-3 px-8 py-4 border-2 border-white/50 rounded-full text-white font-light tracking-wide hover:bg-white/15 hover:border-white/70 transition-all duration-300 group"
                    data-testid="button-book-office-hours"
                >
                    <span>Book a Call</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" class="opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300">
                        <path d="M5 12 L19 12 M14 7 L19 12 L14 17" stroke="currentColor" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- PDF Preview Overlay -->
    <div id="pdfPreviewOverlay" class="fixed inset-0 z-50 hidden">
        <!-- Blurred Background -->
        <div class="absolute inset-0 bg-black/20 backdrop-blur-md"></div>
        
        <!-- Content Container -->
        <div class="relative h-full flex">
            <!-- Left Side - Report Info Card -->
            <div class="w-1/2 flex items-center justify-center p-8">
                <div id="reportInfoCard" class="w-80 h-96 rounded-2xl shadow-2xl">
                    <!-- Card content will be dynamically generated -->
                </div>
            </div>
            
            <!-- Right Side - PDF Viewer -->
            <div class="w-1/2 flex items-center justify-center p-8">
                <div class="w-full h-full bg-white rounded-2xl shadow-2xl overflow-hidden">
                    <iframe id="pdfViewer" class="w-full h-full border-0" src=""></iframe>
                </div>
            </div>
        </div>
        
        <!-- Close Button -->
        <button onclick="closePDFPreview()" class="absolute top-8 right-8 w-12 h-12 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 hover:scale-110">
            <svg width="24" height="24" viewBox="0 0 24 24" class="text-gray-700">
                <path d="M18 6 L6 18 M6 6 L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
    </div>

    <!-- Hidden content to enable scrolling for header animation -->
    <div class="h-96"></div>
    

    <script>
        let albumUrls = [
            '/static/sector-tmt.html',
            '/static/sector-energy.html', 
            '/static/sector-healthcare.html',
            '/static/sector-consumer.html',
            '/static/sector-industrial.html'
        ];

        let currentIndex = 2; // Start with TMT (center album for primary market)
        let isCardCentered = false; // Track if the current card is centered and ready for navigation
        let currentDeckType = 'marketSense'; // Track current deck type
        let currentMarketTier = 'primary'; // Track primary vs secondary market
        let currentViewMode = 'daily'; // Track daily vs weekly mode

        function switchViewMode(mode) {
            const dailyBtn = document.getElementById('dailyModeBtn');
            const weeklyBtn = document.getElementById('weeklyModeBtn');
            const dot = document.getElementById('timeHorizonDot');
            const dailyContent = document.getElementById('dailyModeContent');
            const dailyCoverflow = document.getElementById('dailyModeCoverflow');
            const weeklyContent = document.getElementById('weeklyModeContent');
            const weeklyCards = document.getElementById('weeklyModeCards');
            const dailyHint = document.getElementById('dailyModeHint');
            
            currentViewMode = mode;
            
            if (mode === 'daily') {
                // Move dot to left (Daily)
                dot.style.left = '0';
                
                // Update button opacity
                dailyBtn.classList.remove('opacity-50');
                weeklyBtn.classList.add('opacity-50');
                
                // Show daily content, hide weekly
                dailyContent.style.display = 'block';
                dailyContent.style.opacity = '1';
                if (dailyCoverflow) dailyCoverflow.style.display = 'block';
                if (dailyHint) dailyHint.style.display = 'block';
                weeklyContent.style.display = 'none';
                weeklyCards.classList.add('hidden');
                weeklyCards.classList.remove('flex');
                
                // Reinitialize coverflow
                setTimeout(() => {
                    updateCoverFlow();
                    scrollToCurrentAlbum();
                }, 100);
            } else if (mode === 'weekly') {
                // Move dot to right (Weekly)
                dot.style.left = 'calc(100% - 12px)';
                
                // Update button opacity
                weeklyBtn.classList.remove('opacity-50');
                dailyBtn.classList.add('opacity-50');
                
                // Hide daily content, show weekly
                dailyContent.style.display = 'none';
                if (dailyCoverflow) dailyCoverflow.style.display = 'none';
                if (dailyHint) dailyHint.style.display = 'none';
                weeklyContent.style.display = 'block';
                weeklyCards.classList.remove('hidden');
                weeklyCards.classList.add('flex');
            }
        }

        function openWeeklyBrief(type) {
            /**
             * Weekly brief PDFs for the summary cards (e.g. "Primary Market – Deal flow summary").
             *
             * IMPORTANT:
             *  - These URLs are absolute from the Vercel root (`AlphaStreet/static`).
             *  - For example, `/pdfs/PRIMARY_MARKET_BRIEF.pdf` expects
             *    a file at `AlphaStreet/static/pdfs/PRIMARY_MARKET_BRIEF.pdf`.
             */
            const weeklyPdfMap = {
                primary: '/pdfs/PRIMARY_MARKET_BRIEF.pdf',
                // secondary: '/pdfs/SECONDARY_MARKET_BRIEF.pdf',
                // technicals: '/pdfs/TECHNICALS_PROGRESS_BRIEF.pdf'
            };

            const pdfUrl = weeklyPdfMap[type];

            if (!pdfUrl) {
                console.warn('No weekly brief PDF configured for type:', type);
                return;
            }

            // Open the weekly brief PDF in a new tab
            window.open(pdfUrl, '_blank', 'noopener,noreferrer');
        }

        function switchMarketTier(tier) {
            const primaryBtn = document.getElementById('primaryMarketBtn');
            const secondaryBtn = document.getElementById('secondaryMarketBtn');
            const primaryDecks = document.querySelectorAll('.market-sense-deck');
            const secondaryDecks = document.querySelectorAll('.secondary-market-deck');
            
            currentMarketTier = tier;
            
            if (tier === 'primary') {
                // Show Primary Market decks (the original sector decks)
                primaryDecks.forEach(deck => deck.style.display = '');
                secondaryDecks.forEach(deck => deck.style.display = 'none');
                
                // Update button styles - minimalist underline style
                primaryBtn.className = 'text-sm font-light tracking-wider uppercase text-white/80 transition-all duration-300 border-b border-white/40';
                secondaryBtn.className = 'text-sm font-light tracking-wider uppercase text-white/30 hover:text-white/50 transition-all duration-300';
                
                // Reset to center album (TMT is third, index 2)
                currentIndex = 2;
            } else if (tier === 'secondary') {
                // Show Secondary Market decks
                primaryDecks.forEach(deck => deck.style.display = 'none');
                secondaryDecks.forEach(deck => deck.style.display = '');
                
                // Update button styles - minimalist underline style
                secondaryBtn.className = 'text-sm font-light tracking-wider uppercase text-white/80 transition-all duration-300 border-b border-white/40';
                primaryBtn.className = 'text-sm font-light tracking-wider uppercase text-white/30 hover:text-white/50 transition-all duration-300';
                
                // Reset to center album (Derivatives is third, index 2)
                currentIndex = 2;
            }
            
            isCardCentered = false;
            updateCoverFlow();
            scrollToCurrentAlbum();
            setTimeout(() => { isCardCentered = true; }, 500);
        }

        function switchDeckType(type) {
            const marketSenseBtn = document.getElementById('marketSenseBtn');
            const technicalsBtn = document.getElementById('technicalsBtn');
            const marketSenseDecks = document.querySelectorAll('.market-sense-deck');
            const secondaryMarketDecks = document.querySelectorAll('.secondary-market-deck');
            const technicalsDecks = document.querySelectorAll('.technicals-deck');
            const marketTierToggle = document.getElementById('marketTierToggle');
            
            currentDeckType = type;
            
            if (type === 'marketSense') {
                // Show Market Tier toggle
                marketTierToggle.style.display = 'flex';
                
                // Hide technicals
                technicalsDecks.forEach(deck => deck.style.display = 'none');
                
                // Show appropriate market tier decks
                if (currentMarketTier === 'primary') {
                    marketSenseDecks.forEach(deck => deck.style.display = '');
                    secondaryMarketDecks.forEach(deck => deck.style.display = 'none');
                    currentIndex = 2;
                } else {
                    marketSenseDecks.forEach(deck => deck.style.display = 'none');
                    secondaryMarketDecks.forEach(deck => deck.style.display = '');
                    currentIndex = 2;
                }
                
                // Update button styles - minimalist underline style
                marketSenseBtn.className = 'text-xl font-light tracking-wide text-white transition-all duration-300 border-b-2 border-white/80 pb-1';
                technicalsBtn.className = 'text-xl font-light tracking-wide text-white/40 hover:text-white/70 transition-all duration-300 border-b-2 border-transparent pb-1';
                
                updateCoverFlow();
                scrollToCurrentAlbum();
            } else if (type === 'technicals') {
                // Hide Market Tier toggle
                marketTierToggle.style.display = 'none';
                
                // Show Technicals decks, hide all market decks
                marketSenseDecks.forEach(deck => deck.style.display = 'none');
                secondaryMarketDecks.forEach(deck => deck.style.display = 'none');
                technicalsDecks.forEach(deck => deck.style.display = '');
                
                // Update button styles - minimalist underline style
                technicalsBtn.className = 'text-xl font-light tracking-wide text-white transition-all duration-300 border-b-2 border-white/80 pb-1';
                marketSenseBtn.className = 'text-xl font-light tracking-wide text-white/40 hover:text-white/70 transition-all duration-300 border-b-2 border-transparent pb-1';
                
                // Reset to center album (DCF is fourth, index 3)
                currentIndex = 3;
                updateCoverFlow();
                scrollToCurrentAlbum();
            }
        }

        function selectAlbum(element, url) {
            // No more navigation - decks are for preview demo only
        }

        function navigateLeft() {
            if (currentIndex > 0) {
                currentIndex--;
                isCardCentered = false; // Reset centered state when using arrows
                updateCoverFlow();
                // Add a small delay to ensure the visual update happens before scrolling
                setTimeout(() => {
                    scrollToCurrentAlbum();
                    // Mark as centered after animation completes
                    setTimeout(() => {
                        isCardCentered = true;
                    }, 500);
                }, 50);
            }
        }

        function navigateRight() {
            const visibleCards = Array.from(document.querySelectorAll('.album-card')).filter(card => card.style.display !== 'none');
            if (currentIndex < visibleCards.length - 1) {
                currentIndex++;
                isCardCentered = false; // Reset centered state when using arrows
                updateCoverFlow();
                // Add a small delay to ensure the visual update happens before scrolling
                setTimeout(() => {
                    scrollToCurrentAlbum();
                    // Mark as centered after animation completes
                    setTimeout(() => {
                        isCardCentered = true;
                    }, 500);
                }, 50);
            }
        }

        function scrollToCurrentAlbum() {
            // Only select visible cards
            const albums = Array.from(document.querySelectorAll('.album-card')).filter(card => {
                return card.style.display !== 'none';
            });
            const currentAlbum = albums[currentIndex];
            const container = document.getElementById('coverflow');
            
            if (currentAlbum && container) {
                const containerWidth = container.clientWidth;
                const albumWidth = currentAlbum.offsetWidth;
                const albumOffsetLeft = currentAlbum.offsetLeft;
                const containerPadding = 16; // 1rem padding
                
                // Calculate the ideal center position
                let scrollLeft = albumOffsetLeft - (containerWidth / 2) + (albumWidth / 2);
                
                // Ensure the card is always fully visible within the container
                const minScroll = containerPadding; // Don't scroll past the left padding
                const maxScroll = container.scrollWidth - containerWidth - containerPadding; // Don't scroll past right padding
                
                // For the first card, ensure it's fully visible from the left
                if (currentIndex === 0) {
                    scrollLeft = Math.max(minScroll, albumOffsetLeft - containerPadding);
                }
                // For the last card, ensure it's fully visible from the right
                else if (currentIndex === albums.length - 1) {
                    scrollLeft = Math.min(maxScroll, albumOffsetLeft - containerWidth + albumWidth + containerPadding);
                }
                // For middle cards, center them but ensure they stay within bounds
                else {
                    scrollLeft = Math.max(minScroll, Math.min(maxScroll, scrollLeft));
                }
                
                container.scrollTo({
                    left: scrollLeft,
                    behavior: 'smooth'
                });
            }
        }

        function navigateToReports(sector) {
            // Primary Market (sector) index map
            const primaryIndexMap = {
                'Healthcare': 0,
                'Energy': 1,
                'TMT': 2,
                'Consumer': 3,
                'Industrial': 4
            };
            
            // Secondary Market index map
            const secondaryIndexMap = {
                'Equities': 0,
                'FixedIncome': 1,
                'Derivatives': 2,
                'FXCommodities': 3,
                'PostDeal': 4,
                'SpecialSituations': 5
            };
            
            // Determine which map to use based on current tier
            const indexMap = currentMarketTier === 'secondary' ? secondaryIndexMap : primaryIndexMap;
            const newIndex = indexMap[sector];
            
            if (newIndex !== undefined) {
                // If clicking on a different card, center it first
                if (newIndex !== currentIndex) {
                    currentIndex = newIndex;
                    isCardCentered = false;
                    updateCoverFlow();
                    scrollToCurrentAlbum();
                    
                    // Mark as centered after animation completes
                    setTimeout(() => {
                        isCardCentered = true;
                    }, 500);
                } 
                // If clicking on the already centered card, show PDF preview
                else if (isCardCentered) {
                    showPDFPreview(sector);
                }
                // If clicking on the same card but not yet centered, do nothing (wait for centering)
            } else {
                // Fallback navigation if sector not found
                window.location.href = '/static/reports.html';
            }
        }

        function updateCoverFlow() {
            // Only select visible cards
            const albums = Array.from(document.querySelectorAll('.album-card')).filter(card => {
                return card.style.display !== 'none';
            });
            const leftBtn = document.getElementById('leftBtn');
            const rightBtn = document.getElementById('rightBtn');
            
            // Update button states
            if (leftBtn) {
                leftBtn.style.opacity = currentIndex === 0 ? '0.5' : '1';
                leftBtn.style.pointerEvents = currentIndex === 0 ? 'none' : 'auto';
            }
            if (rightBtn) {
                rightBtn.style.opacity = currentIndex === albums.length - 1 ? '0.5' : '1';
                rightBtn.style.pointerEvents = currentIndex === albums.length - 1 ? 'none' : 'auto';
            }
            
            // Apply transforms based on position relative to current center album
            albums.forEach((album, index) => {
                const offset = index - currentIndex;
                
                if (offset === 0) {
                    // Center album - straight and prominent
                    album.style.transform = 'rotateY(0deg) scale(1)';
                    album.style.opacity = '1';
                    album.style.zIndex = '10';
                } else if (offset < 0) {
                    // Left side albums - tilt toward right (toward center)
                    const angle = Math.min(Math.abs(offset) * 35, 60);
                    const scale = Math.max(0.7, 1 - Math.abs(offset) * 0.15);
                    album.style.transform = `rotateY(${angle}deg) scale(${scale})`;
                    album.style.opacity = Math.max(0.5, 1 - Math.abs(offset) * 0.2);
                    album.style.zIndex = 10 - Math.abs(offset);
                } else {
                    // Right side albums - tilt toward left (toward center)
                    const angle = Math.min(Math.abs(offset) * 35, 60);
                    const scale = Math.max(0.7, 1 - Math.abs(offset) * 0.15);
                    album.style.transform = `rotateY(-${angle}deg) scale(${scale})`;
                    album.style.opacity = Math.max(0.5, 1 - Math.abs(offset) * 0.2);
                    album.style.zIndex = 10 - Math.abs(offset);
                }
            });
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                navigateLeft();
            } else if (e.key === 'ArrowRight') {
                navigateRight();
            } else if (e.key === 'Escape') {
                // Close PDF preview if open
                const overlay = document.getElementById('pdfPreviewOverlay');
                if (!overlay.classList.contains('hidden')) {
                    closePDFPreview();
                }
            }
        });

        // Add resize event listener to handle window size changes
        window.addEventListener('resize', () => {
            // Recalculate and center the current card when window is resized
            setTimeout(() => {
                updateCoverFlow();
                scrollToCurrentAlbum();
            }, 100);
        });
        
        // Login function
        function login() {
            window.location.href = '/api/login';
        }

        // PDF Preview Functions
        function showPDFPreview(sector) {
            const overlay = document.getElementById('pdfPreviewOverlay');
            const reportInfoCard = document.getElementById('reportInfoCard');
            const pdfViewer = document.getElementById('pdfViewer');
            
            /**
             * Map each deck to a concrete PDF file.
             *
             * IMPORTANT:
             *  - These paths are absolute from your Vercel "Root Directory" (`AlphaStreet/static`).
             *  - For example, `/pdfs/TMT_DECK.pdf` expects a file at `AlphaStreet/static/pdfs/TMT_DECK.pdf`.
             *  - Upload your real PDFs with these filenames into `AlphaStreet/static/pdfs/`.
             */
            const pdfFileMap = {
                TMT: '/pdfs/TMT_DECK.pdf',
                Energy: '/pdfs/ENERGY_DECK.pdf',
                Healthcare: '/pdfs/HEALTHCARE_DECK.pdf',
                Consumer: '/pdfs/CONSUMER_DECK.pdf',
                Industrial: '/pdfs/INDUSTRIAL_DECK.pdf',
                Equities: '/pdfs/EQUITIES_DECK.pdf',
                FixedIncome: '/pdfs/FIXED_INCOME_DECK.pdf',
                Derivatives: '/pdfs/DERIVATIVES_DECK.pdf',
                FXCommodities: '/pdfs/FX_COMMODITIES_DECK.pdf',
                PostDeal: '/pdfs/POST_DEAL_DECK.pdf',
                SpecialSituations: '/pdfs/SPECIAL_SITUATIONS_DECK.pdf'
            };
            
            const pdfUrl = pdfFileMap[sector];
            
            if (!pdfUrl) {
                console.warn('No PDF mapped for sector:', sector);
                return;
            }
            
            // Set PDF source
            pdfViewer.src = pdfUrl;
            
            // Generate report info card
            generateReportInfoCard(sector, reportInfoCard);
            
            // Show overlay with animation
            overlay.classList.remove('hidden');
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.style.opacity = '1';
            }, 10);
        }

        function closePDFPreview() {
            const overlay = document.getElementById('pdfPreviewOverlay');
            const pdfViewer = document.getElementById('pdfViewer');
            
            // Hide overlay with animation
            overlay.style.opacity = '0';
            setTimeout(() => {
                overlay.classList.add('hidden');
                pdfViewer.src = ''; // Clear PDF to stop loading
            }, 300);
        }

        function generateReportInfoCard(sector, container) {
            const sectorInfo = {
                'TMT': {
                    title: 'TMT DECK',
                    subtitle: 'Technology, Media & Telecom Reports',
                    description: 'Draw insights from innovation trends',
                    color: 'bg-custom-sage-green',
                    textColor: 'text-anthropic-slate',
                    icon: `<svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #4FB5D9;">
                        <g stroke="currentColor" stroke-width="2" fill="none">
                            <line x1="45" y1="20" x2="45" y2="100" stroke-linecap="round"/>
                            <line x1="60" y1="15" x2="60" y2="105" stroke-linecap="round"/>
                            <line x1="75" y1="25" x2="75" y2="95" stroke-linecap="round"/>
                            <line x1="42" y1="35" x2="48" y2="35" stroke-width="3"/>
                            <line x1="42" y1="55" x2="48" y2="55" stroke-width="3"/>
                            <line x1="42" y1="75" x2="48" y2="75" stroke-width="3"/>
                            <line x1="57" y1="30" x2="63" y2="30" stroke-width="3"/>
                            <line x1="57" y1="50" x2="63" y2="50" stroke-width="3"/>
                            <line x1="57" y1="70" x2="63" y2="70" stroke-width="3"/>
                            <line x1="57" y1="90" x2="63" y2="90" stroke-width="3"/>
                            <line x1="72" y1="40" x2="78" y2="40" stroke-width="3"/>
                            <line x1="72" y1="60" x2="78" y2="60" stroke-width="3"/>
                            <line x1="72" y1="80" x2="78" y2="80" stroke-width="3"/>
                        </g>
                    </svg>`
                },
                'Energy': {
                    title: 'ENERGY DECK',
                    subtitle: 'Oil, Gas & Renewables Reports',
                    description: 'Draw insights from power markets',
                    color: 'bg-anthropic-terracotta',
                    textColor: 'text-white',
                    icon: `<svg width="140" height="140" viewBox="0 0 120 120" class="text-white opacity-80">
                        <path d="M70 20 L50 60 L65 60 L50 100 L70 60 L55 60 Z" fill="white"/>
                        <circle cx="60" cy="60" r="45" fill="none" stroke="white" stroke-width="1.5" opacity="0.3"/>
                    </svg>`
                },
                'Healthcare': {
                    title: 'HEALTHCARE DECK',
                    subtitle: 'Pharma, Biotech & Devices Reports',
                    description: 'Draw insights from life sciences',
                    color: 'bg-anthropic-manila',
                    textColor: 'text-anthropic-slate',
                    icon: `<svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #4FB5D9;">
                        <g stroke="currentColor" fill="none">
                            <line x1="60" y1="20" x2="60" y2="100" stroke-width="4" stroke-linecap="round"/>
                            <path d="M55 30 Q50 35 60 40 Q70 45 55 50 Q50 55 60 60 Q70 65 55 70 Q50 75 60 80 Q70 85 60 90" 
                                  stroke-width="3" fill="none" stroke-linecap="round"/>
                            <path d="M65 35 Q75 40 60 45" stroke-width="2" opacity="0.7"/>
                            <path d="M65 55 Q75 60 60 65" stroke-width="2" opacity="0.7"/>
                            <ellipse cx="55" cy="30" rx="3" ry="2" fill="currentColor"/>
                            <circle cx="53" cy="29" r="0.5" fill="white"/>
                            <path d="M52 31 L50 32" stroke-width="1" stroke-linecap="round"/>
                            <circle cx="60" cy="20" r="5" fill="none" stroke-width="2"/>
                            <circle cx="60" cy="20" r="2" fill="currentColor"/>
                        </g>
                    </svg>`
                },
                'Consumer': {
                    title: 'CONSUMER DECK',
                    subtitle: 'Retail, Brands & Lifestyle Reports',
                    description: 'Draw insights from market trends',
                    color: 'bg-anthropic-ivory-dark',
                    textColor: 'text-anthropic-slate',
                    icon: `<svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #4FB5D9;">
                        <g stroke="currentColor" fill="none" stroke-width="2">
                            <path d="M45 45 L60 25 L75 45" fill="currentColor" opacity="0.1"/>
                            <path d="M45 45 L60 25 L75 45"/>
                            <line x1="45" y1="45" x2="75" y2="45" stroke-width="3"/>
                            <path d="M45 45 L60 85 L75 45" fill="currentColor" opacity="0.05"/>
                            <path d="M45 45 L60 85 L75 45"/>
                            <path d="M52 35 L68 35"/>
                            <path d="M60 25 L60 45"/>
                            <path d="M50 40 L70 40"/>
                            <path d="M60 45 L60 85"/>
                            <path d="M50 55 L70 55"/>
                            <circle cx="60" cy="35" r="1.5" fill="currentColor" opacity="0.9"/>
                            <path d="M57 32 L63 32" stroke-width="1" opacity="0.7"/>
                            <path d="M60 29 L60 35" stroke-width="1" opacity="0.7"/>
                        </g>
                    </svg>`
                },
                'Industrial': {
                    title: 'INDUSTRIAL DECK',
                    subtitle: 'Manufacturing & Infrastructure Reports',
                    description: 'Draw insights from heavy industry',
                    color: 'bg-custom-soft-lavender',
                    textColor: 'text-anthropic-slate',
                    icon: `<svg width="140" height="140" viewBox="0 0 120 120" class="opacity-80" style="color: #4FB5D9;">
                        <g stroke="currentColor" fill="none" stroke-width="2">
                            <path d="M20 90 L45 50 L60 30 L75 50 L100 90 Z" fill="currentColor" opacity="0.15"/>
                            <path d="M20 90 L45 50 L60 30 L75 50 L100 90"/>
                            <ellipse cx="60" cy="30" rx="8" ry="3" fill="currentColor" opacity="0.3"/>
                            <path d="M55 32 Q60 28 65 32" stroke-width="1" opacity="0.7"/>
                            <circle cx="58" cy="31" r="1" fill="currentColor" opacity="0.8"/>
                            <circle cx="62" cy="30" r="1" fill="currentColor" opacity="0.8"/>
                            <path d="M25 80 Q60 75 95 80" stroke-width="1" opacity="0.4"/>
                            <path d="M30 70 Q60 65 90 70" stroke-width="1" opacity="0.4"/>
                            <path d="M58 25 Q55 20 58 15" stroke-width="1" opacity="0.5"/>
                            <path d="M62 25 Q65 20 62 15" stroke-width="1" opacity="0.5"/>
                        </g>
                    </svg>`
                }
            };

            const info = sectorInfo[sector];
            if (!info) return;

            container.innerHTML = `
                <div class="h-full ${info.color} card-deck-content p-8 flex flex-col justify-between">
                    <div class="flex-1 flex items-center justify-center">
                        ${info.icon}
                    </div>
                    <div class="text-center">
                        <div class="text-3xl font-bold ${info.textColor} mb-2">${info.title}</div>
                        <div class="text-base ${info.textColor}/90 font-regular">${info.subtitle}</div>
                        <div class="text-sm ${info.textColor}/70 font-light mt-2">${info.description}</div>
                        <div class="mt-4 text-xs ${info.textColor}/60">
                            US Market Report • September 11, 2025
                        </div>
                    </div>
                </div>
            `;
        }

        // Initialize Cover Flow when page loads
        document.addEventListener('DOMContentLoaded', () => {
            updateCoverFlow();
            // Ensure Healthcare is properly centered and Industrial is visible
            setTimeout(() => {
                scrollToCurrentAlbum();
                // Mark as centered since Healthcare starts in the center
                isCardCentered = true;
            }, 100);
        });

        // Bank Deal PDF Viewer Function
        function viewBankDeal(bankName) {
            const pdfUrl = `/static/assets/deals/${bankName}.pdf`;
            
            // Open PDF in new tab/window
            window.open(pdfUrl, '_blank');
        }

        // Check if user is already authenticated and redirect
        window.addEventListener('DOMContentLoaded', async () => {
            try {
                const response = await fetch('/api/auth/user', {
                    credentials: 'include'
                });
                
                if (response.ok) {
                    // User is authenticated, redirect to dashboard
                    window.location.href = '/dashboard';
                }
            } catch (error) {
                // User is not authenticated, stay on landing page
                console.log('User not authenticated, showing landing page');
            }
        });

        // Roadmap Step Toggle Function
        function toggleStep(stepNumber) {
            const detail = document.getElementById(`step-${stepNumber}-detail`);
            const allDetails = document.querySelectorAll('[id^="step-"][id$="-detail"]');
            
            // Close all other steps
            allDetails.forEach(d => {
                if (d.id !== `step-${stepNumber}-detail`) {
                    d.classList.add('hidden');
                }
            });
            
            // Toggle current step
            detail.classList.toggle('hidden');
        }

        // New Roadmap Step Toggle Function - Elegant floating panel
        let currentRoadmapStep = null;
        
        function toggleRoadmapStep(stepNumber) {
            const panel = document.getElementById('roadmap-detail-panel');
            const content = document.getElementById('roadmap-detail-content');
            
            const stepContent = {
                2: {
                    title: 'ALPHASTREET BOT on Networking',
                    text: 'You can read briefs we provided on the coverage/product group of the banker you wanna connect. Once you read the most recent M&A deal and can have insights, you will more likely to get referral.'
                },
                3: {
                    title: 'ALPHASTREET BOT on Behavioral',
                    text: 'In interviews, showcasing deep knowledge of a bank\'s past deals can make you stand out. ALPHASTREET BOT lets you search each bank\'s deal history and provides insightful analysis. You can also switch to the TL;DR section to quickly reference key points during an interview.'
                },
                4: {
                    title: 'ALPHASTREET BOT on Market Sense',
                    text: 'It is extremely important that you have intellectual curiosity on the market. That\'s why we provided 5 sectors for you not only to tackle specific interview/coffee chat/networking call, but also nail the interview and cultivate market sense in long term.'
                }
            };
            
            if (currentRoadmapStep === stepNumber) {
                // Close if clicking same step
                panel.classList.add('opacity-0');
                setTimeout(() => {
                    panel.classList.add('hidden');
                }, 300);
                currentRoadmapStep = null;
            } else {
                // Show new content
                const info = stepContent[stepNumber];
                content.innerHTML = `
                    <h4 class="text-base font-light text-anthropic-terracotta tracking-wide">${info.title}</h4>
                    <p class="text-sm text-anthropic-slate/80 leading-relaxed font-light">${info.text}</p>
                `;
                
                panel.classList.remove('hidden');
                setTimeout(() => {
                    panel.classList.remove('opacity-0');
                }, 50);
                currentRoadmapStep = stepNumber;
            }
        }

        // Q&A Accordion functionality
        document.addEventListener('DOMContentLoaded', function() {
            const qaItems = document.querySelectorAll('.qa-item');
            
            qaItems.forEach(item => {
                const question = item.querySelector('.qa-question');
                const answer = item.querySelector('.qa-answer');
                const icon = item.querySelector('.qa-icon');
                
                question.addEventListener('click', function() {
                    const isOpen = !answer.classList.contains('hidden');
                    
                    if (isOpen) {
                        // Close this item
                        answer.classList.add('hidden');
                        icon.style.transform = 'rotate(0deg)';
                    } else {
                        // Close all other items first
                        qaItems.forEach(otherItem => {
                            const otherAnswer = otherItem.querySelector('.qa-answer');
                            const otherIcon = otherItem.querySelector('.qa-icon');
                            otherAnswer.classList.add('hidden');
                            otherIcon.style.transform = 'rotate(0deg)';
                        });
                        
                        // Open this item
                        answer.classList.remove('hidden');
                        icon.style.transform = 'rotate(45deg)';
                    }
                });
            });
        });
    </script>

</body>
</html>
